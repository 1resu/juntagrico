{% extends "mybase.html" %}

{% block allcontent %}
    <div class="span2"></div>
    <div class="span8">
        <h3>Wähle dein Abo</h3>
        <br/>

        <h5>Infos:</h5>

        Um Mitglied der Genossenschaft ortoloco zu werden, musst du mindestens einen Anteilschein (CHF 250) erwerben.
        <br/><br/>

        <form action="" method="post" class="form-horizontal createabo">
            {% csrf_token %}
            <div class="control-group">
                <label class="control-label">Abogrösse</label>

                <div class="controls">
                    <label class="radio" for="small">
                        <input type="radio" name="abo" value="small" id="small" checked="checked"/>
                        <strong>Kleines Abo</strong>

                        <div>
                            Ein kleines Abo, für 2-3 Personen geeignet und benötigt mindestens zwei Anteilsscheine.
                        </div>
                    </label>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label"></label>

                <div class="controls">
                    <label class="radio" for="big">
                        <input type="radio" name="abo" value="big" id="big"/>
                        <strong>Grosses Abo</strong>

                        <div>
                            Das grosse Abo empfiehlt sich für WG's oder Familien (ca. 4-6 Personen) und benötigt vier Anteilsscheine.
                        </div>
                    </label>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label"></label>

                <div class="controls">
                    <label class="radio" for="house">
                        <input type="radio" name="abo" value="house" id="house"/>
                        <strong>Haus-Abo</strong>

                        <div>
                            Das Haus-Abo ist für ca. 10 Haushälte. Es müssen mindestens 20 Anteilsscheine gezeichnet werden.
                        </div>
                    </label>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label"></label>

                <div class="controls">
                    <label class="radio" for="none">
                        <input type="radio" name="abo" value="none" id="none"/>
                        <strong>Kein Abo</strong>

                        <div>
                            Du kannst auch ohne ein Abo ein ortoloco sein. Bleibe immer auf dem Laufenden und spring ein wenn du Lust hast.
                        </div>
                    </label>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="depot">Depot</label>

                <div class="controls">
                    <select name="depot" id="depot">
                        {% for depot in depots %}
                            <option value="{{ depot.id }}">{{ depot.name }}</option>
                        {% endfor %}
                    </select>

                    <label for="depot">
                        Wähle ein Depot aus, in welchem du wöchentlich das feine Gemüse abholen kannst.
                    </label>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Mitabonnenten</label>

                <div class="controls">
                    <button class="btn btn-small">Weiteren Mitabonnent hinzufügen</button>
                    // to be done
                    <br/><br/>
                    Bisher hast du keine Mitabonnenten eingetragen<br/><br/>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Anteilsscheine</label>

                <div class="controls">
                    <label for="scheine">
                        <input type="text" name="scheine" id="scheine" value="2" class="span1"/><br/>
                        Du kannst unbeschränkt Anteilsscheine kaufen, es steht dir auch nachher immer frei zusätzliche Anteilsscheine zu erwerben.
                        Allerdings musst du je nach Abo ein Minimum besitzen um zu starten.

                        <script type="text/javascript" src="/static/js/jquery-1.9.0.min.js"></script>
                        <script type="text/javascript">
                            $("input[type=radio]").change(function () {
                                if ($(":checked").val() === "small") {
                                    $("#scheine").val(2);
                                } else if ($(":checked").val() === "big") {
                                    $("#scheine").val(4);
                                } else if ($(":checked").val() === "house") {
                                    $("#scheine").val(20);
                                }
                                else {
                                    $("#scheine").val(1);
                                }
                            });
                        </script>
                    </label>
                    {% if scheineerror %}
                        <div class="alert alert-error">Du brauchst mehr Anteilsscheine für das gewählte Abo</div>
                    {% endif %}
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-success">Abo erstellen</button>
            </div>
        </form>
    </div>

{% endblock %}
